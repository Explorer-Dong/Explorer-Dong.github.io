---
title: operation-guide
categories: Operation
category_bar: true
---

## 运维指南

## 前言

本文旨在介绍运维的基本理念和路径规划。正在不断完善中。

云计算运维的相关知识包括但不限于：

1. Linux 基础：常用命令、文件及用户管理、文本处理、Vim 工具使用。
2. 网络基础：网络基础知识、TCP/IP 协议、七层网络模型、Linux 网络管理与配置。
3. 服务器运维：SSH 远程连接、文件上传下载、Nginx 和 MySQL 服务器搭建、LVS 负载均衡配置以及服务器优化经验。
4. 自动化运维：Shell 脚本编写、自动化运维工具 Ansible 的使用。

## Linux 基础

以 Ubuntu22.04 为例。下面是我的文件目录：

![Ubuntu22.04 目录结构](https://dwj-oss.oss-cn-nanjing.aliyuncs.com/images/202409132006698.png)

下面是 gpt-4o 生成的解释：

> **/boot**: 存放启动加载程序和内核相关的文件，例如 `vmlinuz` 和 `initrd.img`，是系统启动时加载的内容。
>
> **/dev**: 包含系统中的设备文件。Linux 将所有设备（如硬盘、CD-ROM、键盘）视为文件，放在这个目录下。
>
> **/etc**: 存储系统配置文件和启动脚本。几乎所有的系统级配置文件都位于此处。
>
> **/home**: 每个用户的主目录都在这个目录下。用户的个人数据、配置文件、下载等内容存放于此。
>
> **/lost+found**: 存放系统崩溃或磁盘故障后恢复的文件碎片。通常这个目录只有在使用 ext 文件系统时才存在。
>
> **/media**: 用于自动挂载的可移动媒体设备的挂载点，如 CD-ROM、USB 驱动器等。
>
> **/mnt**: 用于临时挂载的文件系统。例如，系统管理员可能会使用这个目录挂载临时文件系统。
>
> **/opt**: 为第三方应用程序提供存储位置，通常是独立于默认包管理系统的程序。
>
> **/proc**: 一个虚拟文件系统，提供系统内核和运行进程的信息。比如，`/proc/cpuinfo` 包含 CPU 的信息。
>
> **/root**: 超级用户（root）的主目录。与普通用户的主目录在 `/home` 不同，root 用户的主目录在根目录下。
>
> **/run**: 存储应用程序和服务的运行时数据，如进程 ID 文件（PID）、锁文件等。
>
> **/snap**: 包含 Snap 包管理系统的应用程序安装目录。
>
> **/srv**: 存放为服务（service）提供的数据。比如，Web 服务器可能会在这里存放网站文件。
>
> **/sys**: 和 `/proc` 类似，提供系统硬件信息的接口，是一个虚拟文件系统。
>
> **/tmp**: 用于存储临时文件，系统重启后这些文件通常会被删除。
>
> **/usr**: 包含用户的二进制文件、库文件、文档等资源。`/usr/bin`、`/usr/lib`、`/usr/share` 等都在这个目录下。
>
> **/var**: 存储经常发生变化的文件，比如日志文件、邮件队列、临时文件等。
>
> **/bin**: 包含基本的用户命令的二进制文件，例如 `ls`、`cp` 等。通常系统启动时所需的命令都在此目录下。
>
> **/lib**: 包含基本的共享库文件和内核模块。系统启动时所需的库文件通常在此目录下。
>
> **/lib32**: 32 位系统的库文件目录，用于兼容 32 位程序。
>
> **/lib64**: 64 位系统的库文件目录，用于 64 位程序。
>
> **/libx32**: x32 ABI（应用二进制接口）的库文件目录，提供与 `x86-64` 兼容的 32 位地址空间。
>
> **/sbin**: 包含系统管理员使用的二进制文件，如 `fdisk`、`ifconfig` 等，这些工具主要用于系统管理和维护。

## 网络基础

## 服务器运维

{% fold light @基本概念 %}

服务器 server 就是类似于一台台电脑，量产后在全球各地通过网络为用户提供高质量的便捷服务。在学习服务器相关知识之前，有必要先了解计算机网络相关的概念，有助于后续理解代理系统等的运作逻辑与开发逻辑。在正式开始之前，首先罗列一下最基本的概念：

- 云服务器：
  - 实例：一个云服务器相当于一个抽象的类，在其中购买配置了指定的实例后相当于实例化一个类，从而一个云服务器对应一个实例
  - ip 地址：一台云服务器对应唯一的一个 ip 地址
  - 备案：所谓的网站备案其实是对云服务器进行备案。当前的形式是，对于指向中国大陆 ip 的云服务器需要备案，如果指向的是非中国大陆的 ip，就不需要备案了。一般而言，中文的指向 HK，英文的指向 UK
  - 端口：一台电脑能做的肯定不止一种，ip 地址端口的概念就好比一台电脑可以有不同的功能模块，不同的端口对应服务器不同的数据通道，开发者可以通过不同的端口开发不同的功能，用户可以通过不同的端口使用一台服务器上的不同服务
  - [宝塔面板](https://www.bt.cn/new/download.html)：由于 linux 操作系统的命令行操作方式与 windows 的图形化界面操作方式差别较大，对于习惯图形化操作的用户不友好，故有一系列 **图形化管理** linux 操作系统的工具，宝塔面板就是其中的一个代表

- 域名：
  - 概念：代替 ip 地址访问的一种更加容易记忆与推广的媒介，通过 DNS 服务器将域名与 ip 地址进行绑定后，用户通过域名 domain 即可访问相应的服务器的资源
  - 顶级域名：即 **域名+后缀** 的组合
  - 二级域名：即 **主机名+域名+后缀** 的组合

- 协议：
  - 概念：服务器与用户进行数据传输的一种约定规则
  - http：传统的数据传输协议，默认服务器 80 端口进行访问
  - https：即 http + ssl，传统协议 + ssl 加密证书，默认服务器 443 端口访问
  - ssl：即 Secret Sockets Layer 安全套件层，用于加密服务器与用户之间传输的数据。其中证书文件为 pem 文件，密钥文件为 key 文件

- 网站框架：
  - 目前两款主流的网站框架分别为 LNMP 与 LAMP，都是用于搭建 Web 服务器环境的 **软件堆栈**
  - LNMP：表示使用 Linux 操作系统、Nginx 作为 Web 服务器、MySQL 作为数据库、PHP 作为服务器端脚本语言的技术堆栈
  - LAMP：表示使用 Linux 操作系统、Apache 作为 Web 服务器、MySQL 作为数据库、PHP 作为服务器端脚本语言的技术堆栈

{% endfold %}

## 自动化运维

## 参考

[Linux 运维学习路线 - 阿里云](https://developer.aliyun.com/learning/roadmap/linux)

[菜鸟 Linux 教程](https://www.runoob.com/linux/linux-tutorial.html)

[搭建一个自己的网站？看这个就够了！](https://www.bilibili.com/video/BV16A4y1X7vg/)
