---
title: ComputerSys
categories:
  - GPA
  - 4th-term
category_bar: true
---

# 计算机系统基础

## 前言

学科地位：

| 主讲教师 | 学分配额 | 学科类别 |
| :------: | :------: | :------: |
|  闫文珠  |   3.5    |  专业课  |

成绩组成：

| 实验（9次） | 平时作业 | 期末（闭卷） |
| :---------: | :------: | :----------: |
|     20%     |   30%    |     50%      |

教材情况：

|    课程名称    |    选用教材    | 版次 |  作者  |     出版社     |      ISBN号       |
| :------------: | :------------: | :--: | :----: | :------------: | :---------------: |
| 计算机系统基础 | 计算机系统基础 |  4   | 袁春风 | 机械工业出版社 | 978-7-111-60489-1 |

学习资源：

- :tv: 视频资源：[袁春风](https://www.icourse163.org/u/mooc1463468641395)

期末考试：

- 简答（类似于作业）
- 计算（类似于作业）
- 综合（尽可能收集老师们的复习资料）

## 第1章 计算机系统概述

### 1.1 计算机基本工作原理



### 1.2 程序的开发与运行



### 1.3 计算机系统的层次结构



### 1.4 计算机系统性能评价

一个完整的计算机系统由软件和硬件共同组成，而硬件的性能对其起决定性作用，但是硬件的性能检测和评价比较困难。本目介绍综合性测试、评价**硬件性能**的方法。

#### 1.4.1 计算机性能的定义

考量一个计算机性能的基本指标有两个，分别为吞吐率（throughput）和响应时间（response time），下面做出相应的理论解释和自己的理解。

理论定义

- 吞吐率：计算机系统单位时间内完成的工作量。

- 响应时间：计算机系统完成一个作业从提交开始到作业完成所用的时间。

{% fold info @个人理解 + 适合场景 %}

**个人理解**：我们以备份文件为例。**对于一个大文件**，我们希望计算机系统的吞吐率性能足够好，这样处理单文件的能力就会很高。**对于很多的小文件**，吞吐率高没有什么决定性作用，起决定性作用的是响应时间，我们希望响应时间尽可能的短，这样处理大规模小文件集合的时候就会有优势。那么相应的适用场景也就合理了。

**适用场景**：对于多媒体应用场景，就相当于大型文件，此时自然希望吞吐率尽可能的高。对于银行、证券交易业务，就相当于大规模小文件集合，我们希望系统的响应时间尽可能的短，这样就可以在单位时间解决更多的小型业务。当然，两者性能均优异自然是最佳选择，对于一些用户体验很重要的应用，比如 ATM、文件服务、Web 服务 等等，就需要两者性能均优。

{% endfold %}

#### 1.4.2 计算机性能的测试

如果不考虑应用背景而直接比较计算机性能，往往通过**程序的执行时间**来衡量。下附程序的执行时间组成图：

{% fold info @程序的执行时间组成图 %}

![程序的执行时间（用户感受到的）](https://dwj-oss.oss-cn-nanjing.aliyuncs.com/images/202403252043639.png)

{% endfold %}

我们关注的是**用户 CPU 时间**。那么如何计算呢？我们引入三个相关计算量：

{% fold info @三个相关计算量 %}

1. 时钟周期：一个时钟脉冲信号持续的时间。由于计算机执行官一条指令得过程会被分为不同的小模块进行，因此我们需要控制每一个小模块的执行。于是引入脉冲信号来控制信号的发出、作用时间等。
2. 时钟频率：单位时间内的时钟周期数。即上述时钟周期的倒数。
3. CPI（Cycles Per Instruction）
    - 对于一条指令而言：CPI 指的是一条指令所需的时钟周期数
    - 对于一个程序或一台机器而言：CPI 指的是该程序或机器的指令集中所有指令平均执行所需的时钟周期数

{% endfold %}

计算**用户 CPU 时间**的公式：

{% fold info @计算公式 %}
$$
\begin{equation*}
\begin{aligned}
\text{用户 CPU 时间} 
&= \text{程序总时钟周期数} \times \text{时钟周期} \\
&= \text{程序总时钟周期数} \div \text{时钟频率}
\end{aligned}
\end{equation*}
$$
{% endfold %}

补充说明：

- 显然，用户 CPU 时间与计算机性能成反比
- 上述三个相关计算量是相互制约的，不存在只提升或下降某一个指标

#### 1.4.3 用指令执行速度进行性能评估



#### 1.4.4 用基准程序进行性能评估



#### 1.4.5 Amdahl 定律



### 1.5 本书的主要内容与组织结构

第一章主要介绍：计算机的基本工作原理、计算机系统的基本组成、程序的开发与执行过程、计算机系统的层次结构以及性能评价的基本概念。

第二章主要介绍：各类数据在计算机中的表示与运算。

第三章主要介绍：高级语言中的过程调用和控制语句所对应的汇编指令序列，以及各类数据结构元素的访问所对应的汇编指令。

第四章主页介绍：如何将多个模块链接起来生成一个可执行的目标文件。

## 第2章 数据的机器级表示与处理

本章主要从四个方面展开，分别为：数值数据的表示、非数值数据的表示、数据的存储、数据的运算。

### 2.1 数制和编码

#### 2.1.1 信息的二进制编码

#### 2.1.2 进位计数制

进制表示

1. 二进制：后缀为 B（即 Binary，如 0110B）
2. 八进制：后缀为 O（即 Octal，如 12673O）
3. 十进制：后缀为 D（即 Decimal，如 291D；可省略，即 291）
4. 十六进制：后缀为 H（即 Hexadecimal，如 3F9H；可以前缀 0x 标记，即 0x3F9）

进制转换

1. R 进制转换为 十进制
2. 十进制转换为 R 进制
3. 二、八、十六进制的相互转换

#### 2.1.3 定点与浮点的表示

#### 2.1.4 定点数的编码表示

1. 原码表示法
2. 补码表示法
    - 模运算：$\text{对一个负数取模} = \text{模} - |\text{负数}|$
    - 补码的定义：$[X]_{\text{补}}=2^n+X$，对于 $n$ 位的运算系统，可以表示补码的数据范围为 $-2^{n-1} \le X < 2^{n-1}$
3. 反码表示法
4. 移码表示法

### 2.2 整数的表示

#### 2.2.1 无符号整数和带符号整数的表示

无符号整数：所有的二进制位都用来表示数值。比如对于 $n$ 位的二进制数，无符号整数的数值范围为 $[0,2^{n} - 1]$

有符号整数：第一位二进制位必须用来进行正负性表示，后 $n-1$ 位用来表示数值。同样对于 $n$ 位的二进制数，有符号整数的数值范围为 $[-2^{n-1}, 2^{n-1})$

#### 2.2.2 C 语言中的整数及其相互转换

C 语言标准中规定：若运算中同时有无符号和带符号整数，则按无符号整数运算

### 2.3 浮点数的表示

#### 2.3.1 浮点数的表示范围

#### 2.3.2 浮点数的规格化

#### 2.3.3 IEEE 754 浮点数标准

#### 2.3.4 C 语言中的浮点数类型

### 2.4 十进制数的表示

#### 2.4.1 用 ASCII 码字符表示

#### 2.4.2 用 BCD 码表示

### 2.5 非数值数据的编码表示

#### 2.5.1 逻辑值

#### 2.5.2 西文字符

#### 2.5.3 汉字字符

### 2.6 数据的宽度和存储

#### 2.6.1 数据的宽度和单位

#### 2.6.2 数据的存储和排列顺序

### 2.7 数据的基本运算

#### 2.7.1 按位运算和逻辑运算

#### 2.7.2 左移运算和右移运算

#### 2.7.3 位扩展运算和位截断运算

#### 2.7.4 整数加减运算

#### 2.7.5 整数乘除运算

#### 2.7.6 常量的乘除运算

#### 2.7.7 浮点数运算

## 第3章 程序的转换及机器级表示

### 3.1 程序转换概述



### 3.2 IA-32 指令系统概述



### 3.3 IA-32 常用指令类型及其操作



### 3.4 C 语言程序的机器级表示



### 3.5 复杂数据类型的分配和访问



### 3.6 越界访问和缓冲区溢出



### 3.7 兼容 IA-32 的 64 位系统



## 第4章 程序的链接

### 4.1 编译、汇编和静态链接



### 4.2 目标文件格式



### 4.3 符号表和符号解析



### 4.4 重定位



### 4.5 动态链接

